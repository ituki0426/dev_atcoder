# トポロジカルソートを扱う

トポロジカルソートとは、閉路の無い有向グラフDAGについて行うソートです。

トポロジカルソートのアルゴリズムには、幅優先探索(BFS)と深さ優先探索(DFS)を利用したものの２つがある。

## トポロジカルソートとは

有向グラフで、頂点uから頂点vに到達できることを、R(u,v)と書くとします。

トポロジカルソートとは、すべての頂点u,vについてu!=vかつR(u,v)ならばuがvよりも先に現れるように頂点を一列に並べることです。

もしこの有向グラフがタスクの依存関係などを表していた場合、左からその頂点に対応するタスクを処理すれば、依存関係を保ったままタスクをすべて処理することができる。

## トポロジカルソートできる条件

どんな有効グラフでもトポロジカルソートできる訳ではない。

すべての頂点u,vについてR(u,v)かつR(v,u)ならばu=vが成り立つ、かつその時に限り、その有向グラフをトポロジカルソート出来ることができる。

この条件を満たす有向グラフを有効非巡回グラフ(DAG)という。

## トポロジカルソートの実装

1. 入次数０の頂点vを発見する
2. 頂点vを配列の末尾に追加する
3. 有向グラフから頂点vとその頂点からでている辺をすべて消去する。

これらを繰り返し、すべての頂点を取り除いた後に得られる配列を出力する。

このアルゴリズムでは、頂点に入る辺の数(入次数)に注目します。次数が0であれば、トポロジカルソートをした時に先頭に持ってこられることを利用してソートします。